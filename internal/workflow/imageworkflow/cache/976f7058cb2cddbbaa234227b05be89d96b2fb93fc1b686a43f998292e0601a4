HTTP/1.1 200 OK
Transfer-Encoding: chunked
Content-Type: application/json
Date: Sat, 05 Oct 2024 14:19:44 GMT
Strict-Transport-Security: max-age=31536000
X-Content-Type-Options: nosniff
X-Frame-Options: deny
X-Ratelimit-Ip: 213.66.82.227
X-Ratelimit-Limit: 180
X-Ratelimit-Remaining: 180
X-Ratelimit-Reset: 1728138044
X-Trace-Id: 69fb0bb91b32385bb9ae927a889824fa
X-Xss-Protection: 1; mode=block

200
{"user":"library","name":"mongo","namespace":"library","repository_type":"image","status":1,"status_description":"active","description":"MongoDB document databases provide high availability and easy scalability.","is_private":false,"is_automated":false,"star_count":10399,"pull_count":4482146740,"last_updated":"2024-10-02T07:08:44.675987Z","date_registered":"2014-06-06T21:51:06Z","collaborator_count":0,"affiliation":null,"hub_user":"stackbrew","has_starred":false,"full_description":"# Quick reference\n\n-\t*
400
*Maintained by**:  \n\t[the Docker Community](https://github.com/docker-library/mongo)\n\n-\t**Where to get help**:  \n\t[the Docker Community Slack](https://dockr.ly/comm-slack), [Server Fault](https://serverfault.com/help/on-topic), [Unix \u0026 Linux](https://unix.stackexchange.com/help/on-topic), or [Stack Overflow](https://stackoverflow.com/help/on-topic)\n\n# Supported tags and respective `Dockerfile` links\n\n**Note:** the description for this image is longer than the Hub length limit of 25000, so the \"Supported tags\" list has been trimmed to compensate.  See also [docker/hub-feedback#238](https://github.com/docker/hub-feedback/issues/238) and [docker/roadmap#475](https://github.com/docker/roadmap/issues/475).\n\n-\tSee [\"Supported tags and respective `Dockerfile` links\" at https://github.com/docker-library/docs/tree/master/mongo/README.md](https://github.com/docker-library/docs/tree/master/mongo/README.md#supported-tags-and-respective-dockerfile-links)\n\n# Quick reference (cont.)\n\n-\t**Where to
800
 file issues**:  \n\t[https://github.com/docker-library/mongo/issues](https://github.com/docker-library/mongo/issues?q=)\n\n-\t**Supported architectures**: ([more info](https://github.com/docker-library/official-images#architectures-other-than-amd64))  \n\t[`amd64`](https://hub.docker.com/r/amd64/mongo/), [`arm64v8`](https://hub.docker.com/r/arm64v8/mongo/), [`windows-amd64`](https://hub.docker.com/r/winamd64/mongo/)\n\n-\t**Published image artifact details**:  \n\t[repo-info repo's `repos/mongo/` directory](https://github.com/docker-library/repo-info/blob/master/repos/mongo) ([history](https://github.com/docker-library/repo-info/commits/master/repos/mongo))  \n\t(image metadata, transfer size, etc)\n\n-\t**Image updates**:  \n\t[official-images repo's `library/mongo` label](https://github.com/docker-library/official-images/issues?q=label%3Alibrary%2Fmongo)  \n\t[official-images repo's `library/mongo` file](https://github.com/docker-library/official-images/blob/master/library/mongo) ([history](https://github.com/docker-library/official-images/commits/master/library/mongo))\n\n-\t**Source of this description**:  \n\t[docs repo's `mongo/` directory](https://github.com/docker-library/docs/tree/master/mongo) ([history](https://github.com/docker-library/docs/commits/master/mongo))\n\n# What is MongoDB?\n\nMongoDB is a [free and open-source cross-platform document-oriented database](https://en.wikipedia.org/wiki/Document-oriented_database) program. Classified as a [NoSQL](https://en.wikipedia.org/wiki/NoSQL) database program, MongoDB uses [JSON](https://en.wikipedia.org/wiki/JSON)-like documents with [schemata](https://en.wikipedia.org/wiki/Database_schema). MongoDB is developed by [MongoDB Inc.](https://en.wikipedia.org/wiki/MongoDB_Inc.), and is published under a combination of the [Server Side Public License](https://www.mongodb.com/licensing/server-side-public-license) and the [Apache License](https://en.wikipedia.org/wiki/Apache_License).\n\nFirst developed by the software company 10gen (now MongoDB Inc.) in Octob
1000
er 2007 as a component of a planned platform as a service product, the company shifted to an open source development model in 2009, with 10gen offering commercial support and other services. Since then, MongoDB has been adopted as backend software by a number of major websites and services, including MetLife, Barclays, ADP, UPS, Viacom, and the New York Times, among others. MongoDB is the most popular NoSQL database system.\n\n\u003e [wikipedia.org/wiki/MongoDB](https://en.wikipedia.org/wiki/MongoDB)\n\n\n\n# Security\n\nBy default Mongo's configuration requires no authentication for access, even for the administrative user. It is highly recommended to set a root user name and password if you plan on exposing your Mongo instance to the internet. See the \"`MONGO_INITDB_ROOT_USERNAME`, `MONGO_INITDB_ROOT_PASSWORD`\" section below for instructions and the [MongoDB Security documentation](https://www.mongodb.com/docs/manual/security/) for a more complete treatment.\n\n# How to use this image\n\n## Start a `mongo` server instance\n\n```console\n$ docker run --name some-mongo -d mongo:tag\n```\n\n... where `some-mongo` is the name you want to assign to your container and `tag` is the tag specifying the MongoDB version you want. See the list above for relevant tags.\n\n## Connect to MongoDB from another Docker container\n\nThe MongoDB server in the image listens on the standard MongoDB port, `27017`, so connecting via Docker networks will be the same as connecting to a remote `mongod`. The following example starts another MongoDB container instance and runs the `mongosh` (use `mongo` with `4.x` versions) command line client against the original MongoDB container from the example above, allowing you to execute MongoDB statements against your database instance:\n\n```console\n$ docker run -it --network some-network --rm mongo mongosh --host some-mongo test\n```\n\n... where `some-mongo` is the name of your original `mongo` container.\n\n## ... via [`docker-compose`](https://github.com/docker/compose) or [`docker stack deploy`](https://docs.docker.com/engine/reference/commandline/stack_deploy/)\n\nExample `docker-compose.yml` for `mongo`:\n\n```yaml\n# Use root/example as user/password credentials\nversion: '3.1'\n\nservices:\n\n  mongo:\n    image: mongo\n    restart: always\n    environment:\n      MONGO_INITDB_ROOT_USERNAME: root\n      MONGO_INITDB_ROOT_PASSWORD: example\n\n  mongo-express:\n    image: mongo-express\n    restart: always\n    ports:\n      - 8081:8081\n    environment:\n      ME_CONFIG_MONGODB_ADMINUSERNAME: root\n      ME_CONFIG_MONGODB_ADMINPASSWORD: example\n      ME_CONFIG_MONGODB_URL: mongodb://root:example@mongo:27017/\n      ME_CONFIG_BASICAUTH: false\n```\n\n[![Try in PWD](https://github.com/play-with-docker/stacks/raw/cff22438cb4195ace27f9b15784bbb497047afa7/assets/images/button.png)](http://play-with-docker.com?stack=https://raw.githubusercontent.com/docker-library/docs/e6234a76beddf381523549d8161c9f985642c8bf/mongo/stack.yml)\n\nRun `docker stack deploy -c stack.yml mongo` (or `docker-compose -f stack.yml up`), wait for it to initialize completely, and visit `http://swarm-ip:8081`, `http://localhost:8081`, or `http://host-ip:8081` (as appropriate).\n\n## Container shell access and viewing MongoDB logs\n\nThe `docker exec` command allows you to run commands inside a Docker container. The following command line will give you a bash shell inside your `mongo` container:\n\n```console\n$ docker exec -it some-mongo bash\n```\n\nThe MongoDB Server log is available through Docker's container log:\n\n```console\n$ docker logs some-mongo\n```\n\n# Configuration\n\nSee the [MongoDB manual](https://docs.mongodb.com/manual/) for information on using and configuring MongoDB for things like replica sets and sharding.\n\n## Customize configuration without configuration file\n\nMost MongoDB configuration can be set through flags to `mongod`. The entrypoint of the image is created to pass its arguments along to `mongod`. See below an example of setting MongoDB to use a different [threading and execution model](https:
2000
//docs.mongodb.com/manual/reference/program/mongod/#cmdoption-mongod-serviceexecutor) via `docker run`.\n\n```console\n$ docker run --name some-mongo -d mongo --serviceExecutor adaptive\n```\n\nAnd here is the same with a `docker-compose.yml` file\n\n```yaml\nversion: '3.1'\nservices:\n  mongo:\n    image: mongo\n    command: --serviceExecutor adaptive\n```\n\nTo see the full list of possible options, check the MongoDB manual on [`mongod`](https://docs.mongodb.com/manual/reference/program/mongod/) or check the `--help` output of `mongod`:\n\n```console\n$ docker run -it --rm mongo --help\n```\n\n## Setting WiredTiger cache size limits\n\nBy default Mongo will set the `wiredTigerCacheSizeGB` to a value proportional to the host's total memory regardless of memory limits you may have imposed on the container. In such an instance you will want to set the cache size to something appropriate, taking into account any other processes you may be running in the container which would also utilize memory.\n\nTaking the examples above you can configure the cache size to use 1.5GB as:\n\n```console\n$ docker run --name some-mongo -d mongo --wiredTigerCacheSizeGB 1.5\n```\n\nSee [the upstream \"WiredTiger Options\" documentation](https://docs.mongodb.com/manual/reference/program/mongod/#wiredtiger-options) for more details.\n\n## Using a custom MongoDB configuration file\n\nFor a more complicated configuration setup, you can still use the MongoDB configuration file. `mongod` does not read a configuration file by default, so the `--config` option with the path to the configuration file needs to be specified. Create a custom configuration file and put it in the container by either creating a custom Dockerfile `FROM mongo` or mounting it from the host machine to the container. See the MongoDB manual for a full list of [configuration file](https://docs.mongodb.com/manual/reference/configuration-options/) options.\n\nFor example, `/my/custom/mongod.conf` is the path to the custom configuration file. Then start the MongoDB container like the following:\n\n```console\n$ docker run --name some-mongo -v /my/custom:/etc/mongo -d mongo --config /etc/mongo/mongod.conf\n```\n\n## Environment Variables\n\nWhen you start the `mongo` image, you can adjust the initialization of the MongoDB instance by passing one or more environment variables on the `docker run` command line. Do note that none of the variables below will have any effect if you start the container with a data directory that already contains a database: any pre-existing database will always be left untouched on container startup.\n\n### `MONGO_INITDB_ROOT_USERNAME`, `MONGO_INITDB_ROOT_PASSWORD`\n\nThese variables, used in conjunction, create a new user and set that user's password. This user is created in the `admin` [authentication database](https://docs.mongodb.com/manual/core/security-users/#user-authentication-database) and given [the role of `root`](https://docs.mongodb.com/manual/reference/built-in-roles/#root), which is [a \"superuser\" role](https://docs.mongodb.com/manual/core/security-built-in-roles/#superuser-roles).\n\nThe following is an example of using these two variables to create a MongoDB instance and then using the `mongosh` cli (use `mongo` with `4.x` versions) to connect against the `admin` authentication database.\n\n```console\n$ docker run -d --network some-network --name some-mongo \\\n\t-e MONGO_INITDB_ROOT_USERNAME=mongoadmin \\\n\t-e MONGO_INITDB_ROOT_PASSWORD=secret \\\n\tmongo\n\n$ docker run -it --rm --network some-network mongo \\\n\tmongosh --host some-mongo \\\n\t\t-u mongoadmin \\\n\t\t-p secret \\\n\t\t--authenticationDatabase admin \\\n\t\tsome-db\n\u003e db.getName();\nsome-db\n```\n\nBoth variables are required for a user to be created. If both are present then MongoDB will start with authentication enabled (`mongod --auth`).\n\nAuthentication in MongoDB is fairly complex, so more complex user setup is explicitly left to the user via `/docker-entrypoint-initdb.d/` (see the *Initializing a fresh instance* and *Authentication* sections below for more details).\n\n### `MONGO_INITDB_DATABASE`\n\nThis variable allows you to specify the name of a database to be used for creation scripts in `/docker-entrypoint-initdb.d/*.js` (see *Initializing a fresh instance* below). MongoDB is fundamentally designed for \"create on first use\", so if you do not insert data with your JavaScript files, then no database is created.\n\n## Docker Secrets\n\nAs an alternative to passing sensitive information via environment variables, `_FILE` may be appended to the previously listed environment variables, causing the initialization script to load the values for those variables from files present in the container. In particular, this can be used to load passwords from Docker secrets stored in `/run/secrets/\u003csecret_name\u003e` files. For example:\n\n```console\n$ docker run --name some-mongo -e MONGO_INITDB_ROOT_PASSWORD_FILE=/run/secrets/mongo-root -d mongo\n```\n\nCurrently, this is only supported for `MONGO_INITDB_ROOT_USERNAME` and `MONGO_INITDB_ROOT_PASSWORD`.\n\n# Initializing a fresh instance\n\nWhen a container is started for the first time it will execute files with extensions `.sh` and `.js` that are found in `/docker-entrypoint-initdb.d`. Files will be executed in alphabetical order. `.js` files will be executed by `mongosh` (`mongo` on versions below 6) using the database specified by the `MONGO_INITDB_DATABASE` variable, if it is present, or `test` otherwise. You may also switch databases within the `.js` script.\n\n# Authentication\n\nAs noted above, authentication in MongoDB is fairly complex (although disabled by default). For details about how MongoDB handles authentication, please see the relevant upstream documentation:\n\n-\t[`mongod --auth`](https://docs.mongodb.com/manual/reference/program/mongod/#cmdoption-mongod-auth)\n-\t[Security \u003e Authentication](https://docs.mongodb.com/manual/core/authentication/)\n-\t[Security \u003e Role-Based Access Control](https://docs.mongodb.com/manual/core/authorization/)\n-\t[Security \u003e Role-Based Access Control \u003e Built-In Roles](https://docs.mongodb.com/manual/core/security-built-in-roles/)\n-\t[Security \u003e Enable Auth (tutorial)](https://docs.mongodb.com/manual/tutorial/enable-authentication/)\n\nIn addition to the `/docker-entrypoint-initdb.d` behavior documented above (which is a simple way to configure users for authentication for less complicated deployments), this image also supports `MONGO_INITDB_ROOT_USERNAME` and `MONGO_INITDB_ROOT_PASSWORD` for creating a simple user with [the role `root`](https://docs.mongodb.com/manual/reference/built-in-roles/#root) in the `admin` [authentication database](https://docs.mongodb.com/manual/core/security-users/#user-authentication-database), as described in the *Environment Variables* section above.\n\n# Caveats\n\n## Where to Store Data\n\nImportant note: There are several ways to store data used by applications that run in Docker containers. We encourage users of the `mongo` images to familiarize themselves with the options available, including:\n\n-\tLet Docker manage the storage of your database data [by writing the database files to disk on the host system using its own internal volume management](https://docs.docker.com/storage/volumes/). This is the default and is easy and fairly transparent to the user. The downside is that the files may be hard to locate for tools and applications that run directly on the host system, i.e. outside containers.\n-\tCreate a data directory on the host system (outside the container) and [mount this to a directory visible from inside the container](https://docs.docker.com/storage/bind-mounts/). This places the database files in a known location on the host system, and makes it easy for tools and applications on the host system to access the files. The downside is that the user needs to make sure that the directory exists, and that e.g. directory permissions and other security mechanisms on the host system are set up correctly.\n\n**WARNING (Windows \u0026 OS X)**: When running the Linux-based MongoDB images on Windows and OS X, the fi
139b
le systems used to share between the host system and the Docker container is not compatible with the memory mapped files used by MongoDB ([docs.mongodb.org](https://docs.mongodb.com/manual/administration/production-notes/#fsync---on-directories) and related [jira.mongodb.org](https://jira.mongodb.org/browse/SERVER-8600) bug). This means that it is not possible to run a MongoDB container with the data directory mapped to the host. To persist data between container restarts, we recommend using a local named volume instead (see `docker volume create`). Alternatively you can use the Windows-based images on Windows.\n\nThe Docker documentation is a good starting point for understanding the different storage options and variations, and there are multiple blogs and forum postings that discuss and give advice in this area. We will simply show the basic procedure here for the latter option above:\n\n1.\tCreate a data directory on a suitable volume on your host system, e.g. `/my/own/datadir`.\n2.\tStart your `mongo` container like this:\n\n\t```console\n\t$ docker run --name some-mongo -v /my/own/datadir:/data/db -d mongo\n\t```\n\nThe `-v /my/own/datadir:/data/db` part of the command mounts the `/my/own/datadir` directory from the underlying host system as `/data/db` inside the container, where MongoDB by default will write its data files.\n\nThis image also defines a volume for `/data/configdb` [for use with `--configsvr` (see docs.mongodb.com for more details)](https://docs.mongodb.com/v3.4/reference/program/mongod/#cmdoption-configsvr).\n\n## Creating database dumps\n\nMost of the normal tools will work, although their usage might be a little convoluted in some cases to ensure they have access to the `mongod` server. A simple way to ensure this is to use `docker exec` and run the tool from the same container, similar to the following:\n\n```console\n$ docker exec some-mongo sh -c 'exec mongodump -d \u003cdatabase_name\u003e --archive' \u003e /some/path/on/your/host/all-collections.archive\n```\n\n# Image Variants\n\nThe `mongo` images come in many flavors, each designed for a specific use case.\n\n## `mongo:\u003cversion\u003e`\n\nThis is the defacto image. If you are unsure about what your needs are, you probably want to use this one. It is designed to be used both as a throw away container (mount your source code and start the container to start your app), as well as the base to build other images off of.\n\nSome of these tags may have names like focal, jammy, or noble in them. These are the suite code names for releases of [Ubuntu](https://wiki.ubuntu.com/Releases) and indicate which release the image is based on. If your image needs to install any additional packages beyond what comes with the image, you'll likely want to specify one of these explicitly to minimize breakage when there are new releases of Ubuntu.\n\n## `mongo:\u003cversion\u003e-windowsservercore`\n\nThis image is based on [Windows Server Core (`microsoft/windowsservercore`)](https://hub.docker.com/r/microsoft/windowsservercore/). As such, it only works in places which that image does, such as Windows 10 Professional/Enterprise (Anniversary Edition) or Windows Server 2016.\n\nFor information about how to get Docker running on Windows, please see the relevant \"Quick Start\" guide provided by Microsoft:\n\n-\t[Windows Server Quick Start](https://msdn.microsoft.com/en-us/virtualization/windowscontainers/quick_start/quick_start_windows_server)\n-\t[Windows 10 Quick Start](https://msdn.microsoft.com/en-us/virtualization/windowscontainers/quick_start/quick_start_windows_10)\n\n# License\n\nView [license information](https://github.com/mongodb/mongo/blob/6ea81c883e7297be99884185c908c7ece385caf8/README#L89-L95) for the software contained in this image.\n\nIt is relevant to note the change from AGPL to SSPLv1 for all versions after October 16, 2018.\n\nAs with all Docker images, these likely also contain other software which may be under other licenses (such as Bash, etc from the base distribution, along with any direct or indirect dependencies of the primary software being contained).\n\nSome additional license information which was able to be auto-detected might be found in [the `repo-info` repository's `mongo/` directory](https://github.com/docker-library/repo-info/tree/master/repos/mongo).\n\nAs for any pre-built image usage, it is the image user's responsibility to ensure that any use of this image complies with any relevant licenses for all software contained within.","permissions":{"read":true,"write":false,"admin":false},"media_types":["application/vnd.docker.distribution.manifest.list.v2+json","application/vnd.docker.distribution.manifest.v1+prettyjws","application/vnd.docker.container.image.v1+json","application/octet-stream","application/vnd.oci.image.index.v1+json"],"content_types":["image","unrecognized"],"categories":[{"name":"Databases \u0026 Storage","slug":"databases-and-storage"}],"immutable_tags":false,"immutable_tags_rules":".*","storage_size":null}

0

